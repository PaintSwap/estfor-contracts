import {EstforConstants, NONE} from "@paintswap/estfor-definitions";
import {
  ACTIONCHOICE_COOKING_BLEKK,
  ACTIONCHOICE_CRAFTING_MITHRIL_PICKAXE,
  ACTIONCHOICE_CRAFTING_NATUOW_LEATHER,
  ACTIONCHOICE_FIREMAKING_LOG,
  ACTIONCHOICE_FIREMAKING_OAK,
  ACTIONCHOICE_SMITHING_IRON_BAR,
  ACTIONCHOICE_SMITHING_MITHRIL_ARMOR,
  ACTION_COMBAT_NATUOW,
  ACTION_COMBAT_QUARTZ_EAGLE,
  ACTION_COMBAT_UFFINCH,
  ACTION_FISHING_SKRIMP,
  ACTION_THIEVING_MAN,
  ACTION_WOODCUTTING_WILLOW,
  ADAMANTINE_ORE,
  BARK_CHUNK,
  COAL_ORE,
  COOKED_BLEKK,
  EMERALD,
  GATHERING_BOOST,
  IRON_ARMOR,
  IRON_BAR,
  IRON_TASSETS,
  LOG,
  MAGE_BODY,
  MITHRIL_ARMOR,
  MITHRIL_PICKAXE,
  NATUOW_HIDE,
  NATUOW_LEATHER,
  QUEST_ALMS_POOR,
  QUEST_BURNER_WATCH,
  QUEST_BURN_BAN,
  QUEST_HIDDEN_BOUNTY,
  QUEST_NYMPTH_WATCH,
  QUEST_PURSE_STRINGS,
  QUEST_SUPPLY_RUN,
  QUEST_TWO_BIRDS,
  QUEST_APPRENTICESHIP,
  QUEST_TOWN_COOKOUT,
  QUEST_IRON_AGE,
  QUEST_CLEAR_SKIES,
  QUEST_MEADERY_MADNESS,
  QUEST_FOREST_FIRE,
  QUEST_MITHRIL_MILITIA,
  QUEST_MINOR_MINERS,
  RAW_SKRIMP,
  RUBY,
  RUBY_AMULET,
} from "@paintswap/estfor-definitions/constants";
import {Skill} from "@paintswap/estfor-definitions/types";

export type Quest = {
  questId: number;
  dependentQuestId: number;
  actionId1: number;
  actionNum1: number;
  actionId2: number;
  actionNum2: number;
  actionChoiceId: number;
  actionChoiceNum: number;
  skillReward: number;
  skillXPGained: number;
  rewardItemTokenId1: number;
  rewardAmount1: number;
  rewardItemTokenId2: number;
  rewardAmount2: number;
  burnItemTokenId: number;
  burnAmount: number;
  requireActionsCompletedBeforeBurning: boolean;
};

export const allQuests: Quest[] = [
  {
    questId: QUEST_BURN_BAN,
    dependentQuestId: 0,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: ACTIONCHOICE_FIREMAKING_LOG,
    actionChoiceNum: 100,
    skillReward: Skill.NONE,
    skillXPGained: 0,
    rewardItemTokenId1: LOG,
    rewardAmount1: 200,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_NYMPTH_WATCH,
    dependentQuestId: 0,
    actionId1: EstforConstants.ACTION_WOODCUTTING_LOG,
    actionNum1: 1000,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: NONE,
    actionChoiceNum: 0,
    skillReward: Skill.WOODCUTTING,
    skillXPGained: 250,
    rewardItemTokenId1: IRON_BAR,
    rewardAmount1: 60,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: LOG,
    burnAmount: 1000,
    requireActionsCompletedBeforeBurning: true,
  },
  {
    questId: QUEST_SUPPLY_RUN,
    dependentQuestId: 0,
    actionId1: ACTION_COMBAT_NATUOW,
    actionNum1: 500,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: NONE,
    actionChoiceNum: 0,
    skillReward: Skill.DEFENCE,
    skillXPGained: 250,
    rewardItemTokenId1: NATUOW_LEATHER,
    rewardAmount1: 100,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: NATUOW_HIDE,
    burnAmount: 500,
    requireActionsCompletedBeforeBurning: true,
  },
  {
    questId: QUEST_HIDDEN_BOUNTY,
    dependentQuestId: 0,
    actionId1: ACTION_THIEVING_MAN,
    actionNum1: 10,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: NONE,
    actionChoiceNum: 0,
    skillReward: Skill.THIEVING,
    skillXPGained: 250,
    rewardItemTokenId1: RUBY,
    rewardAmount1: 1,
    rewardItemTokenId2: EMERALD,
    rewardAmount2: 1,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_PURSE_STRINGS, // Special one that just involves buying brush
    dependentQuestId: 0,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: NONE,
    actionChoiceNum: 0,
    skillReward: Skill.HEALTH,
    skillXPGained: 100,
    rewardItemTokenId1: NONE,
    rewardAmount1: 0,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_ALMS_POOR,
    dependentQuestId: 0,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: ACTIONCHOICE_COOKING_BLEKK,
    actionChoiceNum: 500,
    skillReward: Skill.NONE,
    skillXPGained: 0,
    rewardItemTokenId1: EstforConstants.SKILL_BOOST,
    rewardAmount1: 3,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: COOKED_BLEKK,
    burnAmount: 500,
    requireActionsCompletedBeforeBurning: true,
  },
  {
    questId: QUEST_BURNER_WATCH,
    dependentQuestId: QUEST_BURN_BAN,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: ACTIONCHOICE_FIREMAKING_LOG,
    actionChoiceNum: 2000,
    skillReward: Skill.FIREMAKING,
    skillXPGained: 250,
    rewardItemTokenId1: EstforConstants.LEAF_FRAGMENTS,
    rewardAmount1: 4,
    rewardItemTokenId2: BARK_CHUNK,
    rewardAmount2: 4,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_TWO_BIRDS,
    dependentQuestId: QUEST_SUPPLY_RUN,
    actionId1: ACTION_COMBAT_UFFINCH,
    actionNum1: 900,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: NONE,
    actionChoiceNum: 0,
    skillReward: Skill.MAGIC,
    skillXPGained: 500,
    rewardItemTokenId1: MAGE_BODY,
    rewardAmount1: 1,
    rewardItemTokenId2: RUBY_AMULET,
    rewardAmount2: 1,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_APPRENTICESHIP,
    dependentQuestId: NONE,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: ACTIONCHOICE_CRAFTING_NATUOW_LEATHER,
    actionChoiceNum: 500,
    skillReward: Skill.CRAFTING,
    skillXPGained: 250,
    rewardItemTokenId1: NONE,
    rewardAmount1: 0,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_TOWN_COOKOUT,
    dependentQuestId: NONE,
    actionId1: ACTION_FISHING_SKRIMP,
    actionNum1: 5000,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: NONE,
    actionChoiceNum: 0,
    skillReward: Skill.FISHING,
    skillXPGained: 500,
    rewardItemTokenId1: NONE,
    rewardAmount1: 0,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: RAW_SKRIMP,
    burnAmount: 5000,
    requireActionsCompletedBeforeBurning: true,
  },
  {
    questId: QUEST_IRON_AGE,
    dependentQuestId: NONE,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: ACTIONCHOICE_SMITHING_IRON_BAR,
    actionChoiceNum: 7500,
    skillReward: Skill.SMITHING,
    skillXPGained: 500,
    rewardItemTokenId1: IRON_ARMOR,
    rewardAmount1: 1,
    rewardItemTokenId2: IRON_TASSETS,
    rewardAmount2: 1,
    burnItemTokenId: IRON_BAR,
    burnAmount: 7500,
    requireActionsCompletedBeforeBurning: true,
  },
  {
    questId: QUEST_CLEAR_SKIES,
    dependentQuestId: QUEST_TWO_BIRDS,
    actionId1: ACTION_COMBAT_QUARTZ_EAGLE,
    actionNum1: 300,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: NONE,
    actionChoiceNum: 0,
    skillReward: Skill.HEALTH,
    skillXPGained: 500,
    rewardItemTokenId1: NONE,
    rewardAmount1: 0,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_MEADERY_MADNESS,
    dependentQuestId: QUEST_NYMPTH_WATCH,
    actionId1: ACTION_WOODCUTTING_WILLOW,
    actionNum1: 3000,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: NONE,
    actionChoiceNum: 0,
    skillReward: Skill.WOODCUTTING,
    skillXPGained: 500,
    rewardItemTokenId1: NONE,
    rewardAmount1: 0,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_FOREST_FIRE,
    dependentQuestId: QUEST_BURNER_WATCH,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: ACTIONCHOICE_FIREMAKING_OAK,
    actionChoiceNum: 3000,
    skillReward: Skill.FIREMAKING,
    skillXPGained: 500,
    rewardItemTokenId1: NONE,
    rewardAmount1: 0,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: NONE,
    burnAmount: 0,
    requireActionsCompletedBeforeBurning: false,
  },
  {
    questId: QUEST_MITHRIL_MILITIA,
    dependentQuestId: QUEST_IRON_AGE,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: ACTIONCHOICE_SMITHING_MITHRIL_ARMOR,
    actionChoiceNum: 25,
    skillReward: Skill.SMITHING,
    skillXPGained: 500,
    rewardItemTokenId1: NONE,
    rewardAmount1: 0,
    rewardItemTokenId2: NONE,
    rewardAmount2: 0,
    burnItemTokenId: MITHRIL_ARMOR,
    burnAmount: 25,
    requireActionsCompletedBeforeBurning: true,
  },
  {
    questId: QUEST_MINOR_MINERS,
    dependentQuestId: QUEST_APPRENTICESHIP,
    actionId1: NONE,
    actionNum1: 0,
    actionId2: NONE,
    actionNum2: 0,
    actionChoiceId: ACTIONCHOICE_CRAFTING_MITHRIL_PICKAXE,
    actionChoiceNum: 12,
    skillReward: Skill.CRAFTING,
    skillXPGained: 500,
    rewardItemTokenId1: ADAMANTINE_ORE,
    rewardAmount1: 150,
    rewardItemTokenId2: COAL_ORE,
    rewardAmount2: 450,
    burnItemTokenId: MITHRIL_PICKAXE,
    burnAmount: 12,
    requireActionsCompletedBeforeBurning: true,
  },
];

export const allQuestsRandomFlags: boolean[] = [
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
  false,
];

type MinRequirement = {
  skill: Skill;
  xp: number;
};

export type MinRequirementArray = [MinRequirement, MinRequirement, MinRequirement];

export const defaultMinRequirements: [MinRequirement, MinRequirement, MinRequirement] = [
  {skill: Skill.NONE, xp: 0},
  {skill: Skill.NONE, xp: 0},
  {skill: Skill.NONE, xp: 0},
];

export const allQuestsMinimumRequirements: MinRequirementArray[] = [
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  [
    {skill: Skill.HEALTH, xp: 3000},
    {skill: Skill.NONE, xp: 0},
    {skill: Skill.NONE, xp: 0},
  ],
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
  defaultMinRequirements,
];
